# pulumi-resource-zeet-native

This package builds the pulumi provider binary, 
which in turn codegens the various SDKs

(!)
NOTE: Pulumi Resources (the CRUD objects) must be implemented in this package

There appears to be a bug within the Pulumi SDK codegen, if any Resource(s) are in a different package,
the codegen has a syntax error and makes it impossible to build the SDKs.

Error Message:

```
rm -rf sdk/go
pulumi package gen-sdk /Users/tmkontra-zeet/devel/pulumi-zeet-native/bin/pulumi-resource-zeet-native --language go
Invalid content:
zeetnative/resources/init.go
// Code generated by pulumi DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package resources

import (
        "fmt"


        "github.com/blang/semver"
        "github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type module struct {
        version semver.Version
}

func (m *module) Version() semver.Version {
        return m.version
}

func (m *module) Construct(ctx *pulumi.Context, name, typ, urn string) (r pulumi.Resource, err error) {
        switch typ {
        case "zeet-native:resources:Project":
                r = &Project{}
        default:
                return nil, fmt.Errorf("unknown resource type: %s", typ)
        }

        err = ctx.RegisterResource(typ, name, nil, r, pulumi.URN_(urn))
        return
}

func init() {
        version, err := .PkgVersion()
        if err != nil {
                version = semver.Version{Major: 1}
        }
        pulumi.RegisterResourceModule(
                "zeet-native",
                "resources",
                &module{version},
        )
}

================================================================================
The Pulumi CLI encountered a fatal error. This is a bug!
We would appreciate a report: https://github.com/pulumi/pulumi/issues/
Please provide all of the below text in your report.
================================================================================
Pulumi Version:   v3.51.0
Go Version:       go1.19.4
Go Compiler:      gc
Architecture:     arm64
Operating System: darwin
Panic:            invalid Go source code:

zeetnative/resources/init.go
: 35:18: expected operand, found '.' (and 1 more errors)

goroutine 1 [running]:
runtime/debug.Stack()
        /opt/homebrew/Cellar/go/1.19.4/libexec/src/runtime/debug/stack.go:24 +0x64
main.panicHandler()
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/cmd/pulumi/main.go:29 +0x34
panic({0x106692980, 0x1400049fb40})
        /opt/homebrew/Cellar/go/1.19.4/libexec/src/runtime/panic.go:884 +0x204
github.com/pulumi/pulumi/pkg/v3/codegen/go.GeneratePackage.func1({0x14000062f48?, 0x14000552900?}, {0x1400057c000, 0x368})
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/codegen/go/gen.go:3631 +0x228
github.com/pulumi/pulumi/pkg/v3/codegen/go.GeneratePackage({0x105dda2ac, 0x6}, 0x14001532480)
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/codegen/go/gen.go:3796 +0x1a64
main.genSDK.func1({0x105dda2ac?, 0x1400068fe00?}, 0x1400147edd0?, 0x140013fc6e0?)
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/cmd/pulumi/package_gen_sdk.go:77 +0x24
main.genSDK({0x16b833440?, 0x4d?}, {0x105dd5cc6, 0x5}, 0x0?)
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/cmd/pulumi/package_gen_sdk.go:88 +0x240
main.newGenSdkCommand.func1(0x0?, {0x140014629f0?, 0x0?, 0x0?})
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/cmd/pulumi/package_gen_sdk.go:59 +0x110
github.com/pulumi/pulumi/sdk/v3/go/common/util/cmdutil.RunFunc.func1(0x0?, {0x140014629f0?, 0x0?, 0x0?})
        /private/tmp/pulumi-20230104-57126-1x18oxk/sdk/go/common/util/cmdutil/exit.go:96 +0x28
github.com/pulumi/pulumi/sdk/v3/go/common/util/cmdutil.RunResultFunc.func1(0x14001461800?, {0x140014629f0, 0x1, 0x3})
        /private/tmp/pulumi-20230104-57126-1x18oxk/sdk/go/common/util/cmdutil/exit.go:112 +0x38
github.com/spf13/cobra.(*Command).execute(0x14001461800, {0x14001462990, 0x3, 0x3})
        /Users/brew/Library/Caches/Homebrew/go_mod_cache/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:920 +0x5b0
github.com/spf13/cobra.(*Command).ExecuteC(0x140006d0600)
        /Users/brew/Library/Caches/Homebrew/go_mod_cache/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:1044 +0x35c
github.com/spf13/cobra.(*Command).Execute(...)
        /Users/brew/Library/Caches/Homebrew/go_mod_cache/pkg/mod/github.com/spf13/cobra@v1.6.1/command.go:968
main.main()
        /private/tmp/pulumi-20230104-57126-1x18oxk/pkg/cmd/pulumi/main.go:48 +0x3c

make: *** [go_sdk] Error 1
```