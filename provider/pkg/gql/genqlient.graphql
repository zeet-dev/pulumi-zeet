query currentUserID {
    currentUser {
        id
    }
}

mutation createProject($userID: UUID!, $name: String!) {
    createProjectV2(input: {
        userID: $userID,
        name: $name
    }) {
        id
        name
        updatedAt
    }
}

fragment ProjectStateFragment on Project {
    id
    name
    updatedAt
    environments {
        id
        name
        updatedAt
    }
}

query getProjectByID($projectID: UUID!) {
    project(id: $projectID) {
        ...ProjectStateFragment
    }
}

mutation updateProject($projectID: UUID!, $name: String) {
    updateProjectV2(input: {
        id: $projectID,
        name: $name,
    }) {
        ...ProjectStateFragment
    }
}

mutation deleteProject($projectID: UUID!) {
    deleteProjectV2(id: $projectID)
}

mutation createEnvironment($projectID: UUID!, $name: String!) {
    createProjectEnvironment(input: {
        projectID: $projectID,
        name: $name
    }) {
        id
        name
        project {
            id
        }
        updatedAt
    }
}

# Used to create Zeet "Repos", aka "Apps"
# ProjectID and EnvironmentID are expected to be specified
mutation createAppGit($input: CreateProjectGitInput!) {
    createProjectGit(input: $input) {
        id
        name
        envs {
            id
            name
            value
        }
        cpu
        memory
        updatedAt
    }
}